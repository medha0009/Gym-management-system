<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Inline SVG favicon to avoid /favicon.ico 404s -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' fill='%23007ACC'/%3E%3Ctext x='8' y='11' font-size='10' fill='white' text-anchor='middle'%3EG%3C/text%3E%3C/svg%3E">
</head>
<body>
  <main class="card">
    <h1>Admin Dashboard</h1>
    <div class="top-row">
      <button id="logoutBtn">Logout</button>
      <button id="refreshBtn">Refresh</button>
    </div>

    <section>
      <h2>Members</h2>
      <div class="row">
        <input id="m_name" placeholder="Member name">
        <input id="m_email" placeholder="Member email">
        <input id="m_package" placeholder="Fee package (e.g., monthly)">
        <button id="addMemberBtn">Add Member</button>
      </div>
      <div id="membersList"></div>
    </section>

    <section>
      <h2>Bills</h2>
      <div class="row">
        <input id="bill_member_email" placeholder="Member email">
        <input id="bill_amount" placeholder="Amount">
        <input id="bill_month" placeholder="Month (e.g., 2025-10)">
        <button id="createBillBtn">Create Bill</button>
      </div>
      <div id="billsList"></div>
    </section>

    <section>
      <h2>Notifications</h2>
      <div class="row">
        <input id="notify_email" placeholder="Member email (leave blank for all)">
        <input id="notify_message" placeholder="Message">
        <button id="sendNotificationBtn">Send Notification</button>
        <button id="monthlyNotifyBtn">Send Monthly Notifications</button>
      </div>
      <div id="notificationsList"></div>
    </section>

    <section>
      <h2>Supplement Store</h2>
      <div class="row">
        <input id="supp_name" placeholder="Supplement name">
        <input id="supp_price" placeholder="Price">
        <button id="addSuppBtn">Add Supplement</button>
      </div>
      <div id="supplementsList"></div>
    </section>

    <section>
      <h2>Diet Details</h2>
      <div class="row">
        <input id="diet_member_email" placeholder="Member email">
        <input id="diet_plan" placeholder="Diet plan summary">
        <button id="addDietBtn">Assign Diet</button>
      </div>
      <div id="dietList"></div>
    </section>

    <section>
      <h2>Export</h2>
      <button id="exportMembersCsv">Export Members CSV</button>
      <button id="exportBillsCsv">Export Bills CSV</button>
    </section>

    <section>
      <h2>Logs (last 50)</h2>
      <div id="logsList"></div>
    </section>
  </main>

  <!-- Loading indicator -->
  <div id="loading-indicator" class="loading-indicator" style="display: none;">
    <div class="spinner"></div>
  </div>

  <!-- Firebase App -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  
  <!-- Application Scripts -->
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="helpers.js"></script>
  <script type="module" src="admin.js"></script>
</body>
</html>
